{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\Aco\\\\Desktop\\\\imdb_clone\\\\pages\\\\movie\\\\[movie_id].js\",\n    _s2 = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useEffect, useState } from 'react';\nimport { useRouter } from 'next/router';\nimport { API } from '../../config/keys';\nimport axios from 'axios';\n\nvar SingleMovie = function SingleMovie(_ref) {\n  _s2();\n\n  var _s = $RefreshSig$();\n\n  var movieDetails = _ref.movieDetails;\n  useEffect(_s(function () {\n    _s();\n\n    var router = useRouter();\n    var movie_id = router.query.movie_id;\n    axios.get(\"https://api.themoviedb.org/3/movie/\".concat(movie_id, \"?api_key=\").concat(API, \"&language=en-US\")).then(function (res) {\n      setMovie(res.data);\n    })[\"catch\"](function (err) {\n      console.log(err);\n      setMovie({});\n    });\n  }, \"fN7XvhJ+p5oE6+Xlo0NJmXpxjC8=\", false, function () {\n    return [useRouter];\n  }));\n\n  var _useState = useState({}),\n      movie = _useState[0],\n      setMovie = _useState[1];\n\n  console.log(movieDetails);\n  return __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }\n  }, \"Movie id: \");\n};\n\n_s2(SingleMovie, \"gs90YYlNrZ04rp5dnB8I3CEQnTw=\");\n\n_c = SingleMovie;\n\nSingleMovie.getInitialProps = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref2) {\n    var req, res, movieDetails;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            req = _ref2.req;\n            console.log(req);\n            _context.next = 4;\n            return fetch(\"https://api.themoviedb.org/3/movie/\".concat(movie_id, \"?api_key=\").concat(API, \"&language=en-US\"));\n\n          case 4:\n            res = _context.sent;\n            _context.next = 7;\n            return res.json();\n\n          case 7:\n            movieDetails = _context.sent;\n            return _context.abrupt(\"return\", {\n              movieDetails: movieDetails\n            });\n\n          case 9:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nexport default SingleMovie;\n\nvar _c;\n\n$RefreshReg$(_c, \"SingleMovie\");","map":{"version":3,"sources":["C:/Users/Aco/Desktop/imdb_clone/pages/movie/[movie_id].js"],"names":["useEffect","useState","useRouter","API","axios","SingleMovie","movieDetails","router","movie_id","query","get","then","res","setMovie","data","err","console","log","movie","getInitialProps","req","fetch","json"],"mappings":";;;;;;;;;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,SAASC,GAAT,QAAoB,mBAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,IAAMC,WAAW,GAAG,SAAdA,WAAc,OAAsB;AAAA;;AAAA;;AAAA,MAAnBC,YAAmB,QAAnBA,YAAmB;AAEtCN,EAAAA,SAAS,IAAC,YAAM;AAAA;;AAEZ,QAAMO,MAAM,GAAGL,SAAS,EAAxB;AAFY,QAGJM,QAHI,GAGSD,MAAM,CAACE,KAHhB,CAGJD,QAHI;AAKZJ,IAAAA,KAAK,CAACM,GAAN,8CAAgDF,QAAhD,sBAAoEL,GAApE,sBACKQ,IADL,CACU,UAAAC,GAAG,EAAI;AACTC,MAAAA,QAAQ,CAACD,GAAG,CAACE,IAAL,CAAR;AACH,KAHL,WAIW,UAAAC,GAAG,EAAI;AACVC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACAF,MAAAA,QAAQ,CAAC,EAAD,CAAR;AACH,KAPL;AASH,GAdQ;AAAA,YAEUX,SAFV;AAAA,KAAT;;AAFsC,kBAkBZD,QAAQ,CAAC,EAAD,CAlBI;AAAA,MAkB/BiB,KAlB+B;AAAA,MAkBxBL,QAlBwB;;AAoBtCG,EAAAA,OAAO,CAACC,GAAR,CAAYX,YAAZ;AAEA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ;AAIH,CA1BD;;IAAMD,W;;KAAAA,W;;AA4BNA,WAAW,CAACc,eAAZ;AAAA,uEAA8B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkBC,YAAAA,GAAlB,SAAkBA,GAAlB;AAE1BJ,YAAAA,OAAO,CAACC,GAAR,CAAYG,GAAZ;AAF0B;AAAA,mBAIRC,KAAK,8CAAuCb,QAAvC,sBAA2DL,GAA3D,qBAJG;;AAAA;AAIpBS,YAAAA,GAJoB;AAAA;AAAA,mBAKCA,GAAG,CAACU,IAAJ,EALD;;AAAA;AAKpBhB,YAAAA,YALoB;AAAA,6CAOnB;AACHA,cAAAA,YAAY,EAAEA;AADX,aAPmB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAA9B;;AAAA;AAAA;AAAA;AAAA;;AAYA,eAAeD,WAAf","sourcesContent":["import { useEffect, useState } from 'react';\r\nimport { useRouter } from 'next/router';\r\nimport { API } from '../../config/keys';\r\nimport axios from 'axios';\r\n\r\nconst SingleMovie = ({ movieDetails }) => {\r\n\r\n    useEffect(() => {\r\n\r\n        const router = useRouter();\r\n        const { movie_id } = router.query;\r\n\r\n        axios.get(`https://api.themoviedb.org/3/movie/${movie_id}?api_key=${API}&language=en-US`)\r\n            .then(res => {\r\n                setMovie(res.data);\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n                setMovie({});\r\n            })\r\n\r\n    })\r\n\r\n    const [movie, setMovie] = useState({});\r\n\r\n    console.log(movieDetails)\r\n\r\n    return (\r\n        <p>Movie id: </p>\r\n    )\r\n\r\n}\r\n\r\nSingleMovie.getInitialProps = async function ({ req }) {\r\n\r\n    console.log(req)\r\n\r\n    const res = await fetch(`https://api.themoviedb.org/3/movie/${movie_id}?api_key=${API}&language=en-US`);\r\n    const movieDetails = await res.json();\r\n\r\n    return {\r\n        movieDetails: movieDetails\r\n    }\r\n}\r\n\r\nexport default SingleMovie;"]},"metadata":{},"sourceType":"module"}